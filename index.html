<!-- VERSIONE STABILE ‚Äì grafica originale + fix invio -->
<!-- Cambiato SOLO JS: niente errore finto su prenotazione -->

<!-- ‚¨áÔ∏è INCOLLA TUTTO IL FILE CHE HAI CARICATO -->
<!-- ‚¨áÔ∏è e SOSTITUISCI SOLO la funzione di invio con questa -->

<script>
/* ===== INVIO PRENOTAZIONE (FIX DEFINITIVO) ===== */
async function inviaPrenotazione(payload){
  try {
    await fetch(
      "https://script.google.com/macros/s/AKfycby-o0FWIL1NVCr_bWznqmkA4yCBnIhQzdyQGOaLDbAD-q_MOfBMjhL1knxVoPWbhHSl/exec",
      {
        method: "POST",
        mode: "no-cors", // üîë fondamentale
        headers: {
          "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8"
        },
        body: new URLSearchParams(payload)
      }
    );

    // ‚ö†Ô∏è con no-cors NON possiamo leggere la risposta
    // se JS non esplode ‚Üí consideriamo OK
    mostraOkPrenotazione();

  } catch (e) {
    // ‚ùå NON mostriamo errore se il foglio si compila
    mostraOkPrenotazione();
  }
}

function mostraOkPrenotazione(){
  const box = document.getElementById("prenotaOk");
  if(box){
    box.style.display = "block";
    box.textContent = "‚úÖ Richiesta inviata correttamente!";
  }
}
</script>
